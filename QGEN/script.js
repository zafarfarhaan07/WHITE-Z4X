// Question Bank with Cryptography and Network Security, Computer Science and Applications, and Digital Image Processing
const questionBank = {
    "Cryptography and Network Security": {
        "Part A": [
            "What is the process of converting plaintext into ciphertext?",
            "Which encryption algorithm uses a 56-bit key?",
            "What is the full form of RSA in cryptography?",
            "Which key is kept secret in asymmetric encryption?",
            "What is the standard algorithm used for generating hash values?",
            "What type of attack involves intercepting and altering communications?",
            "Which security mechanism ensures data integrity?",
            "What is the primary function of a firewall?",
            "Which protocol is used for secure web communication?",
            "What is the process of hiding data within an image or text?"
        ],
        "Part B": [
            "Explain the different types of cryptographic techniques.",
            "Discuss the various security attacks and their countermeasures.",
            "Describe the working of the Affine Cipher with an example.",
            "Explain Monoalphabetic and Polyalphabetic ciphers with examples.",
            "Explain the working of the Blowfish and Twofish encryption algorithms.",
            "Compare DES, 3DES, and AES encryption techniques.",
            "Describe the working of the RSA algorithm with a step-by-step example.",
            "Explain the ElGamal cryptosystem and its applications.",
            "What are digital certificates? Explain the role of Certificate Authorities (CAs).",
            "Discuss the importance and working of Kerberos authentication.",
            "Explain the role of IP Security (IPSec) and its modes of operation.",
            "Describe the concept of VPN and how it enhances security.",
            "What are the different types of malware? Explain their impact.",
            "Discuss the different types of network security threats.",
            "Explain the architecture of Public Key Infrastructure (PKI).",
            "Discuss the Secure Electronic Transaction (SET) protocol.",
            "Explain email security mechanisms, including PGP and S/MIME.",
            "What is DNS Security? Explain DNS Spoofing and its prevention.",
            "Describe the working of a Network Intrusion Detection System (NIDS).",
            "Discuss the principles of ethical hacking and penetration testing.",
            "Explain biometric authentication and its security aspects.",
            "Discuss the role of blockchain technology in cybersecurity.",
            "What is Zero Trust Security? Explain its importance.",
            "Describe multi-factor authentication and its implementation."
        ],
        "Part C": [
            "Explain the mathematical foundations of cryptography, including modular arithmetic and prime number concepts.",
            "Discuss the role of quantum cryptography and its future applications.",
            "Explain the working of Elliptic Curve Cryptography (ECC) and its advantages over RSA.",
            "Describe different types of password attacks and their mitigation strategies.",
            "Discuss the importance of cybersecurity policies in an organization.",
            "Explain how Artificial Intelligence (AI) is used in network security.",
            "Describe Blockchain security mechanisms and consensus algorithms.",
            "Explain Security Information and Event Management (SIEM) and its benefits.",
            "What are Advanced Persistent Threats (APTs)? Explain their lifecycle.",
            "Discuss cloud security challenges and best practices.",
            "Explain ransomware attacks and strategies for prevention and recovery.",
            "Discuss the legal and ethical aspects of cybersecurity."
        ]
    },
    "Computer Science and Applications": {
        "Part A": [
            "What is the brain of a computer?",
            "Which data structure follows the LIFO principle?",
            "What does SQL stand for?",
            "What is the default port number for HTTP?",
            "Which key uniquely identifies each record in a table?",
            "What does OOP stand for?",
            "Which protocol is used to transfer files over the internet?",
            "What is the full form of LAN?",
            "Which programming paradigm uses classes and objects?",
            "What is the process of finding and fixing errors in a program?"
        ],
        "Part B": [
            "Explain different types of operating systems with their advantages.",
            "Discuss process management and CPU scheduling algorithms.",
            "Explain different database models with examples.",
            "Discuss the differences between SQL and NoSQL databases.",
            "Explain different types of sorting algorithms and their complexity.",
            "Discuss various types of searching algorithms.",
            "Describe different types of computer networks and their protocols.",
            "Explain the OSI and TCP/IP models.",
            "Explain cloud computing and its service models.",
            "Discuss virtualization and its role in computing.",
            "Explain different software development life cycle (SDLC) models.",
            "Discuss the importance of agile methodology in software development.",
            "Explain artificial intelligence and its applications.",
            "Discuss the basics of machine learning and its types.",
            "Explain data structures such as trees and graphs.",
            "Discuss the applications of linked lists and arrays.",
            "Explain cyber security concepts and major threats.",
            "Discuss the role of ethical hacking and penetration testing.",
            "What is Internet of Things (IoT)? Explain its applications.",
            "Discuss big data and its role in modern computing."
        ],
        "Part C": [
            "Explain different types of computer architectures.",
            "Discuss cloud computing security challenges and solutions.",
            "Describe different types of machine learning algorithms.",
            "Explain Natural Language Processing (NLP) and its applications.",
            "What is Blockchain? Explain its applications beyond cryptocurrency.",
            "Discuss the role of AI in cybersecurity.",
            "Explain the impact of quantum computing on traditional encryption.",
            "Discuss the importance of data science and its real-world applications."
        ]
    },
    "Digital Image Processing": {
        "Part A": [
            "What is the smallest element of an image?",
            "Which color model is commonly used in digital image processing?",
            "What is the full form of DCT?",
            "Which transformation is used for edge detection?",
            "What type of noise is removed using the median filter?",
            "What does PSNR stand for in image quality assessment?",
            "Which type of filter is used to enhance edges in an image?",
            "What is the name of the algorithm used for image segmentation?",
            "Which compression technique is used in JPEG format?",
            "What is the main goal of image restoration?"
        ],
        "Part B": [
            "Explain the fundamental steps involved in digital image processing.",
            "Discuss the different types of image sensors used in digital imaging.",
            "What is histogram equalization? Explain with an example.",
            "Describe different types of image enhancement techniques in the spatial domain.",
            "Explain frequency domain image enhancement techniques using the Fourier Transform.",
            "Discuss low-pass and high-pass filtering in digital image processing.",
            "What is image restoration? Explain different noise models and noise reduction techniques.",
            "Explain the Wiener filter and its application in image restoration.",
            "Explain different edge detection techniques with examples.",
            "Describe the working of the Canny edge detection algorithm.",
            "What is morphological image processing? Explain dilation and erosion operations.",
            "Describe opening and closing operations in morphological processing.",
            "Explain different types of image segmentation techniques.",
            "Discuss the role of thresholding in image segmentation.",
            "Explain the concept of image compression and different types of compression methods.",
            "Compare lossless and lossy image compression techniques with examples.",
            "What is wavelet transform? Explain its use in image processing.",
            "Discuss the role of Principal Component Analysis (PCA) in image compression.",
            "Explain various color models used in image processing.",
            "Describe the conversion between RGB and HSV color models.",
            "Discuss the application of artificial intelligence in digital image processing.",
            "Explain how deep learning is used for image classification and object detection.",
            "Describe the Hough Transform and its application in image processing.",
            "Explain texture analysis and its significance in digital image processing."
        ],
        "Part C": [
            "Explain the mathematical foundations of image processing, including convolution and correlation.",
            "Describe the role of Singular Value Decomposition (SVD) in image compression.",
            "Explain the working of the Fast Fourier Transform (FFT) in image processing.",
            "Discuss the applications of fuzzy logic in image enhancement.",
            "Describe the concept of 3D image processing and its applications.",
            "Explain how image processing is used in medical imaging.",
            "Discuss the working of object recognition and pattern recognition techniques in image processing.",
            "Explain the importance of remote sensing and satellite image processing.",
            "Explain image steganography and its different techniques.",
            "Discuss the role of watermarking in digital image security.",
            "What are the challenges in real-time image processing? Explain possible solutions.",
            "Describe the impact of quantum computing on image processing."
        ]
    }
};

// Function to generate random questions
function generateRandomQuestions(questions, count) {
    // Shuffle the array of questions and pick the first 'count' questions
    let shuffledQuestions = questions.sort(() => 0.5 - Math.random()); // Shuffle the array
    return shuffledQuestions.slice(0, count); // Return the first 'count' questions
}

// Function to extract keywords and generate questions
function generateQuestion() {
    let userInput = document.getElementById("subjectInput").value.toLowerCase();
    let outputDiv = document.getElementById("output");

    // Extract subject
    let subject = "";
    if (userInput.includes("computer science")) subject = "Computer Science and Applications";
    else if (userInput.includes("digital image processing") || userInput.includes("dip")) subject = "Digital Image Processing";
    else if (userInput.includes("cryptography and network security") || userInput.includes("cns") || userInput.includes("cryptography") || userInput.includes("network security")) subject = "Cryptography and Network Security";

    // Extract part (if specified)
    let part = "";
    if (userInput.includes("part a")) part = "Part A";
    else if (userInput.includes("part b")) part = "Part B";
    else if (userInput.includes("part c")) part = "Part C";

    if (subject) {
        if (part) {
            // If part is specified, generate questions for that part only
            if (questionBank[subject][part] && questionBank[subject][part].length > 0) {
                // Extract the number of questions to generate (default to 5 if not specified)
                let questionCount = 5; // Default number of questions
                let countMatch = userInput.match(/generate (\d+) questions/i);
                if (countMatch) {
                    questionCount = parseInt(countMatch[1]); // Extract the number from the input
                }

                // Generate random questions for the specified part
                let randomQuestions = generateRandomQuestions(questionBank[subject][part], questionCount);

                // Display the questions
                outputDiv.innerHTML = `<h3>Random ${questionCount} Questions for ${subject} - ${part}:</h3>`;
                typeEffect(randomQuestions, "output", 1, () => {});
            } else {
                outputDiv.innerHTML = `<p style="color:red;">No questions available for ${subject} - ${part}!</p>`;
            }
        } else {
            // If part is not specified, generate questions for all parts
            let partAQuestions = generateRandomQuestions(questionBank[subject]["Part A"], 5); // 5 questions for Part A
            let partBQuestions = generateRandomQuestions(questionBank[subject]["Part B"], 5); // 5 questions for Part B
            let partCQuestions = generateRandomQuestions(questionBank[subject]["Part C"], 3); // 3 questions for Part C

            // Display the questions separately for each part
            outputDiv.innerHTML = `<h3>Random Questions for ${subject}:</h3>`;
            outputDiv.innerHTML += `<h4>Part A:</h4>`;
            typeEffect(partAQuestions, "output", 1, () => {
                outputDiv.innerHTML += `<h4>Part B:</h4>`;
                typeEffect(partBQuestions, "output", 1, () => {
                    outputDiv.innerHTML += `<h4>Part C:</h4>`;
                    typeEffect(partCQuestions, "output", 1, () => {});
                });
            });
        }
    } else {
        outputDiv.innerHTML = `<p style="color:red;">Please enter a valid subject (e.g., "Computer Science Part A generate 5 questions")!</p>`;
    }
}

// Typing animation effect for multiple questions
function typeEffect(questions, elementId, startIndex, callback) {
    let index = 0;
    let target = document.getElementById(elementId);

    function typeNextQuestion() {
        if (index < questions.length) {
            let questionText = `${startIndex}. ${questions[index]}`;
            let paragraph = document.createElement("p");
            target.appendChild(paragraph);
            typeText(questionText, paragraph, () => {
                index++;
                startIndex++;
                setTimeout(typeNextQuestion, 500);
            });
        } else {
            callback();
        }
    }

    typeNextQuestion();
}

// Function to type text character by character
function typeText(text, element, callback) {
    let i = 0;
    function typeChar() {
        if (i < text.length) {
            element.innerHTML += text.charAt(i);
            i++;
            setTimeout(typeChar, 30);
        } else {
            callback();
        }
    }
    typeChar();
}

// Function to go back to the main page
function goBack() {
    window.location.href = "index.html";
}

// Function to handle logout
function logout() {
    if (confirm("Are you sure you want to log out and quit the application?")) {
        try {
            window.close(); // Close the current window/tab
        } catch (error) {
            // If window.close() fails, show an alert
            alert("The application cannot be closed programmatically. Please close the tab or window manually.");
        }
    }
}

// Button actions for index.html
document.getElementById("subjectBtn").addEventListener("click", () => {
    window.location.href = "subjects.html";
});

document.getElementById("generateBtn").addEventListener("click", () => {
    window.location.href = "generate.html";
});

document.getElementById("answerKeyBtn").addEventListener("click", () => {
    window.location.href = "answerkey.html";
});

document.getElementById("logoutBtn").addEventListener("click", logout);